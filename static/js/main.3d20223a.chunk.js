(this["webpackJsonpslider-puzzle"]=this["webpackJsonpslider-puzzle"]||[]).push([[0],{1:function(e,t,n){e.exports={title:"Board_title__3n2y4",controlHeader:"Board_controlHeader__3UorC",wrapper:"Board_wrapper__2M_tz",board:"Board_board__1_xYi",row:"Board_row__2rQfu",tile:"Board_tile__SsjB6",nonEmpty:"Board_nonEmpty__2f5o1",number:"Board_number__Dsl1q",slideUp:"Board_slideUp__3swdi",slideDown:"Board_slideDown__Wt2iP",slideLeft:"Board_slideLeft__1jXS4",slideRight:"Board_slideRight__3o5lV",controls:"Board_controls__akSZV",controlMainRow:"Board_controlMainRow__1VEYs",control:"Board_control__2EHGl",main:"Board_main__2qcOy",warning:"Board_warning__1mEwf",setting:"Board_setting__218rZ",footer:"Board_footer__oquEg",pulse:"Board_pulse__1tAmA"}},10:function(e,t,n){e.exports={button:"Button_button__2-QBk"}},13:function(e,t,n){e.exports={app:"App_app__2hTB5",pulse:"App_pulse__Aurr4"}},16:function(e,t,n){e.exports=n(21)},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),l=n.n(o),i=n(5),u=n(3),c=n(2),s=n.n(c),d=n(15),f=n(10),h=n.n(f),m=function(e){var t=e.children,n=e.className,a=Object(d.a)(e,["children","className"]);return r.a.createElement("button",Object.assign({},a,{className:s()(h.a.button,n)}),t)},p=n(7),v=n.n(p),b=function(e){var t=e.setBackground,n=e.buttonClassName,a=r.a.useRef(),o=r.a.useCallback((function(e){e.preventDefault();var n=a.current.files;if(FileReader&&n&&n.length){var r=new FileReader;r.onload=function(){var e=new Image;e.src=r.result,e.onload=function(){t({url:r.result,width:this.width,height:this.height})}},r.readAsDataURL(n[0])}}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",id:"image-bg",className:v.a.uploadInput,ref:a,onChange:o}),r.a.createElement("label",{htmlFor:"image-bg"},r.a.createElement(m,{tabIndex:-1,className:s()(v.a.uploadButton,n)},"Upload Background")))};var _=n(1),w=n.n(_),g=n(14),k=n(11),E=n(12),B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e<t?-1:e>t?1:0};if(Object(k.a)(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var a=(this.length>>1)-1;a>=0;a--)this._down(a)}return Object(E.a)(e,[{key:"push",value:function(e){this.data.push(e),this._up(this.length++)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,a=t[e];e>0;){var r=e-1>>1,o=t[r];if(n(a,o)>=0)break;t[e]=o,e=r}t[e]=a}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,a=this.length>>1,r=t[e];e<a;){var o=1+(e<<1),l=o+1;if(l<this.length&&n(t[l],t[o])<0&&(o=l),n(t[o],r)>=0)break;t[e]=t[o],e=o}t[e]=r}}]),e}();function C(e,t,n,a,r){var o=e[t][n];e[t][n]=e[a][r],e[a][r]=o}function R(e,t){return{row:Math.floor(e/t),col:e%t}}function N(e){for(var t=[],n=0;n<e;n++){t[n]=[];for(var a=0;a<e;a++)t[n][a]=n*e+a+1}return t[e-1][e-1]=0,{tiles:t,blankRow:e-1,blankCol:e-1}}function y(e){return function e(t,n,a,r){var o=0;if(a<r){var l=Math.floor((a+r)/2);o+=e(t,n,a,l),o+=e(t,n,l+1,r),o+=function(e,t,n,a,r){for(var o=0,l=n,i=a+1,u=n;l<=a&&i<=r;)e[l]<=e[i]?(t[u]=e[l],u++,l++):(t[u]=e[i],0!==e[i]&&(o+=a-l+1),u++,i++);for(;l<=a;)t[u]=e[l],u++,l++;for(;i<=r;)t[u]=e[i],u++,i++;for(var c=n;c<=r;c++)e[c]=t[c];return o}(t,n,a,l,r)}return o}(e,[],0,e.length-1)}function M(e){for(var t=e.length,n=t*t-1;n>0;n--){var a=Math.floor(Math.random()*n),r=R(n,t),o=R(a,t);C(e,r.row,r.col,o.row,o.col)}var l=function(e){for(var t=e.length,n=0;n<t;n++)for(var a=0;a<t;a++)if(0===e[n][a])return{row:n,col:a}}(e);return function(e,t){var n,a=e.length,r=y((n=[]).concat.apply(n,Object(g.a)(e)));return a%2===1?r%2===0:t%2===0?r%2===1:r%2===0}(e,l.row)||(0===l.row?C(e,1,0,1,1):C(e,0,0,0,1)),{tiles:e,blankRow:l.row,blankCol:l.col}}function S(e,t){return R(e-1,t)}function j(e){for(var t=e.length,n=0,a=0;a<t;a++)for(var r=0;r<t;r++){var o=e[a][r];if(0!==o){var l=S(o,t);n+=Math.abs(l.row-a)+Math.abs(l.col-r)}}return n}function O(e){return 0===j(e)}function P(e){return j(e)+2*function(e){for(var t=e.length,n=0,a=0;a<t;a++)for(var r=0;r<t;r++)for(var o=r;o<t;o++){var l=e[a][r],i=e[a][o];if(0!==l&&0!==i){var u=S(l,t),c=S(i,t);u.row===a&&c.row===a&&u.col>c.col&&n++}}for(var s=0;s<t;s++)for(var d=0;d<t;d++)for(var f=d;f<t;f++){var h=e[d][s],m=e[f][s];if(0!==h&&0!==m){var p=S(h,t),v=S(m,t);p.col===s&&v.col===s&&p.row>v.row&&n++}}return n}(e)}function x(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)for(var a=0;a<e.length;a++)if(e[n][a]!==t[n][a])return!1;return!0}function z(e,t,n,a,r){C(e,t,n,a,r);var o=JSON.parse(JSON.stringify(e));return C(e,t,n,a,r),{tiles:o,blankRow:a,blankCol:r}}function I(e,t,n){var a=[];return t>0&&a.push(z(e,t,n,t-1,n)),n>0&&a.push(z(e,t,n,t,n-1)),t<e.length-1&&a.push(z(e,t,n,t+1,n)),n<e.length-1&&a.push(z(e,t,n,t,n+1)),a}function A(e,t){return 2*e.heuristic+e.steps-(2*t.heuristic+t.steps)}function L(){var e=r.a.useState(4),t=Object(u.a)(e,2),n=t[0],a=t[1],o=r.a.useState(!0),l=Object(u.a)(o,2),c=l[0],d=l[1],f=r.a.useState(null),h=Object(u.a)(f,2),p=h[0],v=h[1],_=r.a.useState(N(n)),g=Object(u.a)(_,2),k=g[0],E=g[1],R=r.a.useState({animation:null,row:null,col:null}),y=Object(u.a)(R,2),j=y[0],z=y[1],L=r.a.useState(!1),U=Object(u.a)(L,2),D=U[0],V=U[1],F=r.a.useRef(D),q=r.a.useState(!0),H=Object(u.a)(q,2),J=H[0],T=(H[1],r.a.useRef(J)),W=r.a.useRef(k);W.current=k,r.a.useEffect((function(){return E(N(n))}),[n]);var Y=r.a.useMemo((function(){return O(k.tiles)}),[k]),Z=r.a.useMemo((function(){return document.getElementById("sound-tile")}),[]),Q=r.a.useCallback((function(e,t){var n,a=W.current,r=a.blankRow,o=a.blankCol;return n=e-1===r?w.a.slideUp:e+1===r?w.a.slideDown:t-1===o?w.a.slideLeft:w.a.slideRight,z({animation:n,row:e,col:t}),T.current&&!F.current&&(Z.currentTime=0,Z.play()),new Promise((function(n){setTimeout((function(){z({animation:null,row:null,col:null}),C(W.current.tiles,e,t,W.current.blankRow,W.current.blankCol),E({tiles:W.current.tiles,blankRow:e,blankCol:t}),n()}),250)}))}),[W,Z,T]),G=r.a.useCallback((function(e,t){if(j.animation||F.current)return Promise.resolve();var n=W.current,a=n.blankRow,r=n.blankCol;return a===e&&1===Math.abs(r-t)||r===t&&1===Math.abs(a-e)?Q(e,t):Promise.resolve()}),[j,F,W,Q]),X=r.a.useCallback((function(){E(function(e){return M(N(e).tiles)}(n))}),[n]),K=r.a.useCallback((function(){V(!1),F.current=!1}),[]),$=r.a.useCallback((function(){var e=function(e,t,n){for(var a={tiles:e,blankRow:t,blankCol:n,heuristic:P(e),steps:0,previous:null},r=new B([a],A),o=a,l=0;!O(o.tiles);){l++;for(var i=I((o=r.pop()).tiles,o.blankRow,o.blankCol),u=0;u<i.length;u++){var c=i[u];null!==o.previous&&x(c.tiles,o.previous.tiles)||r.push({tiles:c.tiles,blankRow:c.blankRow,blankCol:c.blankCol,heuristic:P(c.tiles),steps:o.steps+1,previous:o})}}var s=o.steps;console.log("Solution Steps By A*:",s),console.log("Solution Process By A*:",l);for(var d=[];null!==o;)d.push({blankRow:o.blankRow,blankCol:o.blankCol}),o=o.previous;return d.reverse(),d.shift(),d}(k.tiles,k.blankRow,k.blankCol);V(!0),F.current=!0,e.reduce((function(e,t){return e.then((function(){return F.current?Q(t.blankRow,t.blankCol):Promise.reject()}))}),Promise.resolve()).catch((function(){})).then((function(){V(!1),F.current=!1}))}),[F,k,Q]),ee=r.a.useMemo((function(){return!p||p.width<p.height?100*n:p.width/p.height*100*n}),[p,n]),te=r.a.useMemo((function(){return!p||p.height<p.width?100*n:p.height/p.width*100*n}),[p,n]),ne=function(){var e=r.a.useState(window.innerWidth),t=Object(u.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{width:n}}().width,ae=r.a.useMemo((function(){return Math.min(100,(ne-32)/4)}),[ne]),re=r.a.useMemo((function(){return!p||p.height>p.width?0:(p.width/p.height-1)/2*n*ae}),[p,n,ae]),oe=r.a.useMemo((function(){return!p||p.width>p.height?0:(p.height/p.width-1)/2*n*ae}),[p,n,ae]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:w.a.title},"Sliding Puzzle"),r.a.createElement("div",{className:w.a.wrapper},r.a.createElement("div",{className:w.a.board},k.tiles.map((function(e,t){return r.a.createElement("div",{className:w.a.row,key:t},e.map((function(e,a){var o,l=S(e,n),u=Math.ceil(l.col*-ae-re),d=Math.ceil(l.row*-ae-oe);return r.a.createElement("div",{className:s()([w.a.tile,(o={},Object(i.a)(o,w.a.nonEmpty,0!==e),Object(i.a)(o,j.animation,j.row===t&&j.col===a),o)]),key:a,onClick:function(){return G(t,a)},style:0!==e?{width:ae,height:ae,backgroundImage:p&&'url("'.concat(p.url,'")'),backgroundSize:"".concat(ee,"% ").concat(te,"%"),backgroundPosition:"".concat(u,"px ").concat(d,"px")}:{width:ae,height:ae}},0!==e&&c&&r.a.createElement("div",{className:w.a.number},e))})))}))),r.a.createElement("div",{className:w.a.controls},r.a.createElement("div",{className:w.a.controlMainRow},r.a.createElement(m,{className:s()(w.a.control,w.a.main),disabled:D,onClick:X,type:"button"},"Shuffle"),r.a.createElement(m,{className:s()(w.a.control,w.a.main,Object(i.a)({},w.a.warning,D)),disabled:Y,onClick:D?K:$,type:"button"},D?"Stop":"Solve")),r.a.createElement("div",null,r.a.createElement(b,{buttonClassName:w.a.control,setBackground:v})),r.a.createElement("div",null,r.a.createElement(m,{className:s()(w.a.control,w.a.setting),disabled:D,onClick:function(){a(n>=4?3:n+1)}},n>=4?r.a.createElement("p",null,"3x3"):r.a.createElement("p",null,"4x4")),r.a.createElement(m,{className:s()(w.a.control,w.a.setting,Object(i.a)({},w.a.warning,!c)),onClick:function(){return d(!c)}},c?r.a.createElement("p",null,"Hide Numbers"):r.a.createElement("p",null,"Show Numbers"))))))}var U=n(13),D=n.n(U);function V(){return r.a.createElement("div",{className:D.a.app},r.a.createElement(L,null),r.a.createElement("div",{id:"modal-root"}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))},7:function(e,t,n){e.exports={header:"BackgroundPicker_header__3Zadt",uploadInput:"BackgroundPicker_uploadInput__bqdYL",uploadButton:"BackgroundPicker_uploadButton__1VuVV",pulse:"BackgroundPicker_pulse__LrI4U"}}},[[16,1,2]]]);
//# sourceMappingURL=main.3d20223a.chunk.js.map